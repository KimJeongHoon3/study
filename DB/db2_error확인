
프로시저문에 아래 Handler 선언

DECLARE SQLCODE INT;
DECLARE SQLSTATE CHAR(5) DEFAULT '00000';
DECLARE EXIT HANDLER FOR SQLEXCEPTION
BEGIN
    CALL SYSIBMADM.DBMS_OUTPUT.PUT_LINE( 'EXCEPTION > SQLSTATE=['||SQLSTATE||'], SQLCODE=['||TO_CHAR(SQLCODE) );
    ROLLBACK;
END;

call SYSIBMADM.DBMS_OUTPUT.ENABLE(NULL); //이거 실행먼저해야함..

아래 function으로 에러 확인가능

CREATE FUNCTION  WRAPPER_DBMS_OUTPUT ( )
RETURNS VARCHAR(32000)
LANGUAGE SQL
NOT DETERMINISTIC
EXTERNAL ACTION
READS SQL DATA
INHERIT SPECIAL REGISTERS
BEGIN
DECLARE l_lines DBMS_OUTPUT.CHARARR;
DECLARE l_numlines INTEGER DEFAULT 10000;
DECLARE l_result VARCHAR(32000) DEFAULT '';
DECLARE i INTEGER;

 --now extract the data
 CALL DBMS_OUTPUT.GET_LINES( l_lines, l_numlines );
 SET i = 1;
 WHILE i <= l_numlines DO
    SET l_result = l_result || l_lines[i] || chr(13) || chr(10);
    SET i = i + 1;
 END WHILE;
 return l_result;
END;