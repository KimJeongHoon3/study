도메인 주도설계 철저입문
- 도메인주도설계란?
  - 도메인 지식에 초점을 맞춘 설계 기법
    - 도메인 : 프로그램이 쓰이는 대상이 되는 분야 (영역)
    - 지식 : 소프트웨어 이용자의 문제 이해
  - 도메인 모델링?
    - 도메인 모델을 만드는 과정
      - 모델 : 현실에서 일어나는 사건이나 개념을 추상화한것
        - 추상 : 공통적인것을 뽑아 파악하는것 (현실의 모든것 반영 X)
      - 즉, 프로그램으로 쓰는 대상에서 일어나는 사건과 개념들 중에 공통적인 것을 뽑아내는것인데, 프로그래밍화 하기위해서는 필요한 정보로 한정해야한다
  - 도메인 객체?
    - 도메인 모델을 소프트웨어 형태의 동작하는 모듈로 나타낸것
    - 도메인 객체의 중요한 점은 진정 이 모델이 이용자 문제해결을 가능하게해주는, 그래서 객체로 만들 필요가 있는지 분별해야한다!
    - 도메인 개념 <-> 도메인 모델 <-> 도메인객체
      - 이렇게 서로 상호작용하며 피드백을 한다
  - 도메인 주도설계에서 패턴이란?
    - 도메인 지식을 설명하기위한것
      - 값 객체
      - 엔티티
      - 도메인 서비스
      - 애그리게이트
      - 명세
    - 어플리케이션을 구성하기위한것     
      - 리포지토리
      - 애플리케이션 서비스
      - 팩토리
- 시스템 특유의 값을 나타내기 위한 값 객체
  - 값 객체?
    - 객체이지만, 원시타입처럼 여겨져야한다..
    - 불변객체!  
    - 값의 성질
      - 변하지않는다
        - 장점
          - 병렬처리에서 유리
            - 값이 변하는 상황을 고려하지않아도됨
          - 불변이니 캐싱해서 사용하여 접근성이나 메모리 관리에 이점
        - 단점
          - 일부 값만 바꾸고 싶을때 객체를 아예 새로 생성해야함..
          - 그렇기때문에 특정부분은 상태를 바꿀수있는 전략도 씀
      - 주고받을 수 있다
      - 등가성을 비교할 수 있다.
        - 객체의 속성을 통해 비교한다..(equals 나 hashcode 오버라이딩)
  - 이런 점을 고려하였을때 *불변객체* 기반으로 만들자
  - 값 객체가 되기 위한 기준?
    - 규칙이 존재하는가?
    - 낱개로 다루어야하는가?
    - ex) 성명 이라는 도메인에는 성과 이름이 속성으로 구성될때, 성명은 규칙이 존재하며, 낱개로 다루어야하니깐 값객체가 맞지만, 성명이라는 도메인의 성과 이름은 규칙이 존재한다고 보기 쉽지않고 낱개로 다룰 필요가 없기에(물론, 요구사항에 따라 다를 순 있지만..) 원시타입(String)으로 할수있다
      - 이 책의 필자는 c#을 쓰고있는데, string이 원시타입인듯.. (물론 자바도 String은 원시타입처럼 사용됨..)
  - 값 객체는 *독자적인 행위를 정의할 수 있다*
    - 값 객체는.. 단순한 데이터 구조체가 아니다
    - 객체이므로 행동이 정의가능하고.. 그렇기에 데이터(속성)에 대한 규칙과 같은 행동을 정의할 수 있다
    - 이를 통해서 데이터에 대한 행동을 한곳에 모아두고, 자신만의 규칙을 갖는 도메인 객체가 된다
    - 그리고 값 객체(도메인 객체)에 정의된 내용을 보고 이 도메인 객체가 어떤일을 할 수 있고, 어떤일을 할 수 없는 놈인지도 파악이 가능하다
  - 값 객체를 도입했을때 장점
    - *표현력증가*
      - 무얼하는놈인지에대한 정보를 제공
      - 코드 자체가 문서의 역할
    - 무결성 유지 (integrity 이상한 데이터 들어오는거 막음)
      - 값 객체를 통해서 제약사항을 정의할수있음
      - ex) 이름에 3글자 이상은 에러 
    - 잘못된 대입을 방지
      - 값 객체를 사용하기에 타입검증가능(컴파일러가 잡아줌 - java)
      - ex) User라는 도메인 모델에 UserId와 UserName이 속성으로 가지고있다면, 그냥 String이 아닌, UserId나 UserName 타입을 전달해줘야하니.. 실수줄일수있음
    - 로직이 코드 이곳저곳 흩어지는것을 방지
      - 중복코드를 방지할수있음
      - ex) User의 userName의 3글자 이상으로 정의해야하는 제약사항이 있을때, 도메인 객체에서 이를 정의해놓으면 해당 제약사항의 변경이 있을때 도메인 객체만 고치면된다.. 여기저기 제약사항 로직 만들어놓아서 고칠때 개고생하는 불상사를 막을수있다!

  - 기타 팁
    - 값 객체의 속성을 또 값 객체로 정의할 만한 가치가 있다(혹은 값 객체로 정의할 만한 가치가 잇는 개념)고 구현중에 발견했다면, 그 개념은 도메인 모델로 피드백해야한다!
    
          